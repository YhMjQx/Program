# 计算机网络概述

## **计算机网络的组成**

### **1.组成部分：**

硬件（端系统，路由器，交换机...），软件(附在端系统以及某些中间设备上) ，协议(穿梭在各个硬件当中如何封装，如何打包，如何传输...)

![image-20230523211943890](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523211943890.png)



### **2.工作方式：**

#### 边缘部分：

端系统组成的部分

端与端之间的通信强调的是进程

##### c/s：客户/服务器

客户想服务器发送请求，服务器处理请求

##### b/s：浏览器/服务器

在浏览器中进行操作该操作反映给服务器，服务器处理完操作，给浏览器一定的相应

![image-20230523212120411](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523212120411.png)

#####  p2p：peer to peer 对等关系

在这个方式中，所有计算机都是对等，每一个端系统都可以作为用户，同时也可以作为服务器。

是一个人人为我，我为人人的情况关系

例如这里的B和C

![image-20230523213118872](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523213118872.png)

#### 核心部分：为边缘部分服务

路由器等中间设备，网络等构成的

![image-20230523213237461](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523213237461.png)

### **3.功能组成**

##### 通信子网：实现数据通信

使网络具有传输，交换，控制，存储的能力

##### 资源子网：实现资源共享/数据处理

![image-20230523213212147](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523213212147.png)

这7层是OSI模型

## **计算机网络的分类：**



### **1.按分布范围分：**

区分广域网（交换技术）和局域网（广播技术）不能只看他们的范围大小，应该更主要的是看他们所采用的技术



### **3.按交换技术分：**

广域网WAN，域域网MAN，局域网LAN，个人区域网PAN

![image-20230523220622395](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523220622395.png)

电路交换：就类似于打电话，当一个线程在进行时，其他的线程是不允许被插进来的

报文交换和分组交换：指的是存储转发的一种模式。		

​		看图中的这个关系，一个请求发送给了R1路由器，然后R1会现将这个请求存放在自身中，然后判断接下来哪条路走得快，判断好了，再将这个请求从自身发出。			

​		细心地会发现，每个系统之间是一段一段链接的，这是和电路交换的一个区别，还有就是这两种交换中是允许其他线程插入的。

### **4.按照拓扑结构分：**

总线型，星型，环型，网状型

![image-20230523220739841](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523220739841.png)

### **5.按传输技术分：**

广播室式网络：共享公共通信信道，一般采取的是总线型（记不住就想一个人在广播里说了一句话，所有人都能听到）

点对点网络：使用分组存储转发和路由选择机制

![image-20230523220800092](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523220800092.png)

 



## 标准化工作及相关组织

![image-20230523220821715](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523220821715.png)

因特网标准一定是RFC形式，但，是RFC形式的不一定就是因特网标准

![image-20230523220841128](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523220841128.png)



![image-20230523220901011](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523220901011.png)



![image-20230523220928718](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523220928718.png)

法定标准：OSI

事实标准：TCP/IP

 

## **性能指标**

### 速率

注意速率和容量之间的进制转换关系

速率是以10为进制单位

容量是以二的n次方为进制单位

![image-20230523220943901](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523220943901.png)

### 带宽

数据在传播中能达到的最高数据率

带宽指的是单位时间内，一次性能传输比特的大小，再链路中都是以电磁波的形式传播的，因为信息是以电磁波为载体传播的，因此在链路中的传输速率是固定的

![image-20230523221058792](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523221058792.png)

###  吞吐量

吞吐量是指单位时间通过某个网络（或信道，接口）的数据量

![image-20230523221112635](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523221112635.png)

发送和传输的速率是100，但是实际的接收速率还会被其他因素所限制，主要就是受缓存大小的限制，然后由图中可知，吞吐量是30。

100是最高的标准数据率，而20和10代表的是实际传输的数据率。

### **时延**

#### 发送时延：

发生在机器内部

一段数据第一个比特位发出到最后一个比特位推出所用的时间（受数据的长度和发送的快慢）

发送时延 = 数据长度 / 信道带宽（发送速率）

#### 传播时延：

发生在信道上

是指电磁波在信道上传播一定距离所花费的时间

通俗的理解是 一段数据整个从发出到刚好碰到路由器位置所用的时间

传播时延取决于电磁波传播速度和链路长度

传播时延 = 信道长度 / 电磁波在信道上传播的速率

#### 排队时延：

个人理解，一段数据（或者说比特流）从碰到路由器开始到完全进入路由器的这部分等待时间，实际上路由器有一个储存口，这段比特流在这个储存口中待的时间就可以叫做排队时延

#### 处理时延：

用来给数据流检错和找出口 

排队时延和处理时延可以想象为过机场安检的过程

![image-20230523224436378](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523224436378.png)

### 时延带宽积

一个描述数据量或者说信息量的性能属性也是描述一个管道中比特容量的指标

时延带宽积 = 传播时延 * 带宽

时延带宽积又被称为**以比特为单位的链路长度**即 某段链路现在有多少比特

![image-20230523225458273](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523225458273.png)

### 往返时延 - RTT

 RTT(Round-Trip Time)，往返时延。在计算机网络中它是一个重要的性能指标，表示从发送端发送数据开始，到发送端收到来自接收端的确认（接收端收到数据后便立即发送确认），总共经历的时延。
       往返延时(RTT)由三个部分决定：即链路的传播时间、末端系统的处理时间以及路由器的缓存中的排队和处理时间。其中，前面两个部分的值作为一个TCP连接相对固定，路由器的缓存中的排队和处理时间会随着整个网络拥塞程度的变化而变化。所以RTT的变化在一定程度上反映了网络拥塞程度的变化。

RTT越大，在收到确认之前，可以发送的数据越多

![image-20230523230540263](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523230540263.png)

### 利用率

就比如这个车道，车道上的车越多说明车道的利用率越高，但是随之而来的，车越多，跑的也就越慢，所以如图所示，当利用率快达到100%的时候，时延会急剧增大。

![image-20230523231041963](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230523231041963.png)

# 分层结构，协议，接口，服务

## 分层结构

只有对等实体之间才能有协议

接口存在于每两层之间（关节处）的位置

每两个层次之间所提供的，下级为上级提供的服务

![image-20230524152820644](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524152820644.png)

### 1.实体：

第n层中的活动元素称为n层实体，同一层的实体叫对等实体

### 2.协议：

为进行网络中的对等实体数据交换而建立的规则，标准或约定称为网络协议（水平方向）

协议的三大要素：语法，语义，同步

### 3.接口（访问服务店SAP）：

上层使用下层服务的入口

### 4.服务：

下层为相邻上层提供的功能调用（垂直方向）

<img src="C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524154711510.png" alt="image-20230524154711510"  />

![image-20230524155227568](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524155227568.png)

## OSI参考模型

OSI怎么来的？？？

![image-20230524201104438](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524201104438.png)

 OSI具体模型：

一共分为7层

计算机网络按功能分类：资源子网（负责数据处理），通信子网（负责数据通信）

资源子网：应用层，表示层，会话层

形象点就是打包包裹

通信子网：网络层，数据链路层，物理层

形象点就是邮递打包好的包裹

有个顺口溜来帮助我记住OSI的这7层

物 链 网 输 会 示 用

物 联 网 淑 惠 试 用

![image-20230524202238646](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524202238646.png)

每一对对等实体之间都会有协议在其中，哪怕是A段到中间系统，只要是中间系统有的实体，那么A端就会和他有对应的协议，更何况A端和B端之间了

![image-20230524203524312](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524203524312.png)

![image-20230524204440327](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524204440327.png)

#### 应用层：

典型应用层服务（协议）：

文件传输（FTP）

电子邮件（SMTP）

万维网（HTTP） - 其实就是www.的这个网络

所有能和用户交互产生网络流量的程序

 ![image-20230524214532534](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524214532534.png)

#### 表示层：

主要协议：JPEG，ASCII

 用于处理在两个通信系统（两台设备）中交换信息的表示方式（语法语义）

功能一：数据格式变换，可以理解为一个翻译官，比如将比特流的形式的数据转换为图片的形式的数据

功能二： 数据加密解密

功能三：数据压缩和恢复

![image-20230524214601808](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524214601808.png)

#### 会话层：

主要协议：ADSP，ASP

向会话层实体/用户进程提供**建立连接**并在连接上**有序**的**传输**数据，这是会话，也是**建立同步**（SYN）

主机与不同窗口之间的会话是彼此独立的，互不影响，互不干涉

功能一：建立，管理，中指会话

功能二：使用校验点可使会话在通信失效时从校验点/同步点继续回复通信，实现数据同步（校验点：在一段很长的数据流中插入的防止网络传输突然出现问题的点，可以想象一下，当我在传一个文件的时候，当我传到50%的时候，网络突然断了，那么当网络恢复正常的时候通过我给的校验点，可以使改文件从里校验点最近的地方继续传输，就不用从头再开始传输了），适用于大文件。

![image-20230524214620785](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524214620785.png)

#### 传输层：

负责主机中**两个进程**的通信，即**端到端**的通信。传输单位是报文段或用户数据报。

**端到端**的通信：不同主机内两个进程之间的通信

功能一： **可**靠传输（基于文件情况比较大的情况，需要先建立连接，然后将该文件分为数个报文段，然后每次只发送一个报文段，当接收端接收到该报文段之后返回一个信息给发送端，发送端收到该信息之后才会发送下一个报文段，如果抹一次发送端迟迟没有收到接收端的反馈，那么发送端就会再发一次这个报文段，纸质接收到反馈）；不可靠传输（基于文件或信息比较小的情况，比如发了一个在吗等等）

功能二：**差**错控制（控制差错防止影响文件数据传输，例如丢失了部分报文段等，出书层会帮助找回）

功能三：**流**量控制（是指速率匹配的问题，比如发送端的速率大于接收端的速率，传输层就会控制发送端的速率，以致二者匹配）

功能四：复**用**分用（例如两台手机同时打开qq和微信，qq和微信，分别同时发消息和接收消息，发送端会将不同进程发送的数据以报文段的形式发出，然后分别给每个报文段匹配对应的进程的端口号，当数据发送过去之后，接收端会根据端口号的不同来接受对应的数据） 

复用：多个应用层进程可同时使用下面运输层的服务

分用：运输层把收到的信息分别交付给上面应用层中的相应的进程

![image-20230524232458850](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524232458850.png)

#### 网络层：

主要协议：IP，IPX，ICMP，IGMP，ARP，RARP，OSPF

主要任务是把**分组**从源端传到目的端，为分组交换网上的不同主机提供通信服务，网络层传输单位是**数据报**。（数据过长过大的时候就会将数据报分为各个分组）。

功能一：路由控制（选择一个合适的路由器最佳路线）

功能二：流量控制（，和传输层的流量控制是一样的）

功能三：差错控制（发送端和接收端约定好一些规则，接收端会使用这些规则来检查分组时候有错，有错的话先看能不能纠错，如果可以纠错就纠错，不能纠错就丢掉，以确保发送端发送的数据都是正确的）

功能四：拥塞控制（拥塞控制相对于流量控制的不同点在于，流量控制只是限制发送端的速率，而拥塞控制则是针对全局的。若所有结点都来不及接收分组，而要丢弃大量分组的话，网络就处于拥塞状态，因此要采取一定措施，缓解这种拥塞。）

![image-20230524234155367](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230524234155367.png)

#### 数据链路层：

主要任务是把发送端的网咯层传下来的数据报**组装成帧**，所以数据链路层/链路层的传输单位是**帧**

功能一：成帧（定义帧的开始和结束） ...1000011101010101...（将数据报组装成一个一个帧，方便接收端每接收一个帧就可以取出来并上交给网络层进行解封装）

功能二：差错控制（可以检错或者纠错）**帧错+位错**

功能三：流量控制

功能四：访问（接入）控制 **控制对信道的访问**（例如在广播式网络中，一条链路只能接入一台设备）

![image-20230525094358795](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230525094358795.png)

#### 物理层：

主要任务是在**物理媒体**上实现比特流的**透明传输**。物理层传输单位是**比特**。（将比特流转换为电信号在戒指上传输）

透明传输：之不管所传数据是什么样的比特组合，都应当能够在链路上传送。

功能一：定义接口特性

功能二：定义传输模式：单工（发送端和接收端是确定好的，就类似于发电报的只能发电报和接受电报的只能接受电报）；半双工（类似于对讲机，一台设备既可以作为发送端也可以作为接收端，但是同一时间还是只不允许同时发送数据）；双工（类似于打电话，不同设备可以同时发送数据）

功能三：定义传输速率

功能四：比特同步（发送发发出一个比特位，接收端可以准确无误接收到一个比特位）

功能五：比特编码（用什么样的电压表示1，用什么样的电压表示0）

![image-20230525100110621](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230525100110621.png)

![image-20230525100153228](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230525100153228.png)





## TCP/IP参考模型

![image-20230525102402248](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230525102402248.png)



OSI参考模型与TCP/IP参考模型相同点：

1.都分层

2.基于独立的协议栈的概念

3.可以实现异构网络互联

OSI参考模型与TCP/IP参考模型不同点：

1.OSI定义三点：服务，协议，接口

2.OSI先出现，参考模型先于协议发明，不偏向特定协议

3.TCP/IP设计之初就考虑到异构网（不同厂家的网络系统）**互联**问题，将IP作为重要层次

而IP存在于网络层，所以TCP/IP模型的网络层只有无连接，可以直接进行数据传输

![image-20230525103433463](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230525103433463.png)

##### 5层参考模型

![image-20230525112603989](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230525112603989.png)

5层参考模型的数据封装与解封装

![image-20230525113126391](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230525113126391.png)

![image-20230525113201562](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230525113201562.png)

# 第一章总结：

![image-20230525145815649](C:\Users\hp\AppData\Roaming\Typora\typora-user-images\image-20230525145815649.png)

